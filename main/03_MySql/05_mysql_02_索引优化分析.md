<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/305825 (zh-CN, DDL); Windows/10.0.10240 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 14pt;
    }
  </style>
</head>
<body>
<a name="2445"/>

<div>
<span><div><span><font style="font-size: 18pt; color: rgb(255, 0, 0);"><span style="text-indent: 0mm; font-family: 'Lucida Grande';">MySQL</span><span style="text-indent: 0mm; font-family: Arial;">是一个关系型数据库管理系统</span></font><span style="text-indent: 0mm; font-family: Arial; font-size: 14pt;">，由瑞典</span><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 14pt;">MySQL AB</span><span style="text-indent: 0mm; font-family: Arial; font-size: 14pt;">公司开发，目前属于</span><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 14pt;">Oracle</span><span style="text-indent: 0mm; font-family: Arial; font-size: 14pt;">公司。</span></span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 14pt;">MySQL</span><span style="text-indent: 0mm; font-family: Arial; font-size: 14pt;">是一种关联数据库管理系统，将数据保存在不同的表中，而不是将所有数据放在一个大仓库内，这样就增加了速度并提高了灵活性。</span><span style="color: rgb(1, 1, 1); font-family: 'Lucida Grande'; font-size: 10pt; text-indent: 0mm; line-height: 1.45;"> </span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 6pt;"><span style="text-indent: 0mm; min-height: 6pt; font-family: 'Lucida Grande'; font-size: 14pt;">Mysql</span><span style="text-indent: 0mm; min-height: 6pt; font-family: Arial; font-size: 14pt;">是开源的，所以你不需要支付额外的费用。</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 14pt;">Mysql</span><span style="text-indent: 0mm; font-family: Arial; font-size: 14pt;">是可以定制的，采用了</span><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 14pt;">GPL</span><span style="text-indent: 0mm; font-family: Arial; font-size: 14pt;">协议，你可以修改源码来开发自己的</span><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 14pt;">Mysql</span><span style="text-indent: 0mm; font-family: Arial; font-size: 14pt;">系统。</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 14pt;">Mysql</span><span style="text-indent: 0mm; font-family: Arial; font-size: 14pt;">支持大型的数据库。可以处理拥有上千万条记录的大型数据库。</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 6pt;"><span style="text-indent: 0mm; min-height: 6pt; font-family: 'Lucida Grande'; font-size: 14pt;">MySQL</span><span style="text-indent: 0mm; min-height: 6pt; font-family: Arial; font-size: 14pt;">使用标准的</span><span style="text-indent: 0mm; min-height: 6pt; font-family: 'Lucida Grande'; font-size: 14pt;">SQL</span><span style="text-indent: 0mm; min-height: 6pt; font-family: Arial; font-size: 14pt;">数据语言形式。</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 14pt;">Mysql</span><span style="text-indent: 0mm; font-family: Arial; font-size: 14pt;">可以允许于多个系统上，并且支持多种语言。这些编程语言包括</span><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 14pt;">C</span><span style="text-indent: 0mm; font-family: Arial; font-size: 14pt;">、</span><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 14pt;">C++</span><span style="text-indent: 0mm; font-family: Arial; font-size: 14pt;">、</span><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 14pt;">Python</span><span style="text-indent: 0mm; font-family: Arial; font-size: 14pt;">、</span><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 14pt;">Java</span><span style="text-indent: 0mm; font-family: Arial; font-size: 14pt;">、</span><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 14pt;">Perl</span><span style="text-indent: 0mm; font-family: Arial; font-size: 14pt;">、</span><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 14pt;">PHP</span><span style="text-indent: 0mm; font-family: Arial; font-size: 14pt;">、</span><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 14pt;">Eiffel</span><span style="text-indent: 0mm; font-family: Arial; font-size: 14pt;">、</span><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 14pt;">Ruby</span><span style="text-indent: 0mm; font-family: Arial; font-size: 14pt;">和</span><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 14pt;">Tcl</span><span style="text-indent: 0mm; font-family: Arial; font-size: 14pt;">等。</span></div><div><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 14pt;">MySQL</span><span style="text-indent: 0mm; font-family: Arial; font-size: 14pt;">支持大型数据库，支持</span><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 14pt;">5000</span><span style="text-indent: 0mm; font-family: Arial; font-size: 14pt;">万条记录的数据仓库，</span><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 14pt;">32</span><span style="text-indent: 0mm; font-family: Arial; font-size: 14pt;">位系统表文件最大可支持</span><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 14pt;">4GB</span><span style="text-indent: 0mm; font-family: Arial; font-size: 14pt;">，</span><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 14pt;">64</span><span style="text-indent: 0mm; font-family: Arial; font-size: 14pt;">位系统支持最大的表文件为</span><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 14pt;">8TB</span><span style="text-indent: 0mm; font-family: Arial; font-size: 14pt;">。</span></div><div><span style="text-indent: 0mm; font-family: Arial; font-size: 14pt;">
</span></div><div><span style="text-indent: 0mm; font-family: Arial; font-size: 14pt;">
</span></div><div><font style="font-family: Arial; font-size: 18pt; color: rgb(255, 0, 0);"><span style="line-height: 27px;">应掌握内容：</span></font></div><div><font face="Arial"><span style="font-size: 19px; line-height: 27px;">      1、数据库内部结构和原理</span></font></div><div><font face="Arial"><span style="font-size: 19px; line-height: 27px;">      2、数据库建模优化</span></font></div><div><font face="Arial"><span style="font-size: 19px; line-height: 27px;">      3、数据库索引建立</span></font></div><div><font face="Arial"><span style="font-size: 19px; line-height: 27px;">      4、SQL语句优化</span></font></div><div><font face="Arial"><span style="font-size: 19px; line-height: 27px;">      5、SQL编程（自定义函数、存储过程、触发器、定时任务）</span></font></div><div><font face="Arial"><span style="font-size: 19px; line-height: 27px;">      6、mysql服务器的安装配置</span></font></div><div><font face="Arial"><span style="font-size: 19px; line-height: 27px;">      7、数据库的性能监控分析与系统优化</span></font></div><div><font face="Arial"><span style="font-size: 19px; line-height: 27px;">      8、各种参数常量设定</span></font></div><div><font face="Arial"><span style="font-size: 19px; line-height: 27px;">      9、主从复制</span></font></div><div><font face="Arial"><span style="font-size: 19px; line-height: 27px;">      10、分布式架构搭建、垂直切割和水平切割（Mycat）</span></font></div><div><font face="Arial"><span style="font-size: 19px; line-height: 27px;">      11、数据迁移</span></font></div><div><font face="Arial"><span style="font-size: 19px; line-height: 27px;">      12、容灾备份和恢复</span></font></div><div><font face="Arial"><span style="font-size: 19px; line-height: 27px;">      13、shell或Python等脚本语言开发</span></font></div><div><font face="Arial"><span style="font-size: 19px; line-height: 27px;">      14、对开源数据库进行二次开发</span></font></div><div><span style="text-indent: 0mm; font-family: Arial; font-size: 14pt;">
</span></div><div><span style="text-indent: 0mm; font-family: Arial; font-size: 14pt;">
</span></div><div><span style="text-indent: 0mm; font-family: Arial; font-size: 14pt;">
</span></div><div><span style="text-indent: 0mm; font-family: Arial; font-size: 14pt;">
</span></div><div>
</div></span>
</div>

* * *

<a name="2449"/>

<div>
<span><div><font style="font-size: 24pt; color: rgb(255, 70, 53);">mysql5.5</font></div><div><font style="font-size: 14pt;">
</font></div><div><span style="min-height: 26pt; font-family: 'Lucida Grande';"><font style="font-size: 18pt; color: rgb(235, 0, 115);">官网下载地址</font><font style="font-size: 14pt;"><font color="#D100FF">：</font><a href="http://dev.mysql.com/downloads/mysql/" style="color: rgb(209, 0, 255);">http://dev.mysql.com/downloads/mysql/</a></font></span></div><div><span style="min-height: 26pt; font-family: 'Lucida Grande';">
</span></div><div><font style="font-family: 'Lucida Grande'; font-size: 18pt; color: rgb(255, 70, 53);">检查工作：</font></div><div><font style="font-family: 'Lucida Grande'; font-size: 14pt;">      检查当前系统是否安装过mysql</font><span style="font-family: 'Lucida Grande'; font-size: 14pt; line-height: 1.45;">    </span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;-en-codeblock:true;"><div><span style="text-indent: 0mm; min-height: 4pt; font-family: 宋体; font-size: 14pt; font-weight: bold; color: rgb(51, 51, 51);">执行安装命令前，先执行查询命令</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 3pt;"><span style="text-indent: 0mm; min-height: 3pt; font-family: Calibri; font-size: 14pt; font-weight: bold; color: rgb(51, 51, 51);">rpm -qa|grep mysql</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 3pt;"><span style="text-indent: 0mm; min-height: 3pt; font-family: 宋体; font-size: 12pt; color: rgb(51, 51, 51);">如果存在</span><span style="text-indent: 0mm; min-height: 3pt; font-family: Calibri; font-size: 12pt; color: rgb(51, 51, 51);">mysql-libs</span><span style="text-indent: 0mm; min-height: 3pt; font-family: 宋体; font-size: 12pt; color: rgb(51, 51, 51);">的旧版本包如下：</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 24pt;">![](04_mysql_01_架构介绍_files/Image.png)</div><div><span style="text-indent: 0mm; font-family: 宋体; font-size: 12pt; color: rgb(51, 51, 51);">请先执行卸载命令：</span><span style="text-indent: 0mm; font-family: Calibri; font-size: 14pt; font-weight: bold; color: rgb(51, 51, 51);">rpm -e --nodeps  mysql-libs</span></div></div><div>      <font style="font-size: 14pt;">   检查/tmp文件夹权限</font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;-en-codeblock:true;"><div><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 14pt; color: rgb(51, 51, 51);">由于mysql安装过程中，会通过mysql用户在/tmp目录下新建tmp_db文件，所以请给/tmp较大的权限</span></div><div><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 14pt; color: rgb(51, 51, 51);">执行 ：chmod -R 777 /tmp</span></div></div><div><font style="font-size: 14pt;">
</font></div><div><span style="line-height: 27px;"><font style="font-size: 18pt; color: rgb(255, 0, 128);">安装：</font></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;-en-codeblock:true;"><div><span style="text-indent: 0mm; min-height: 6pt; font-family: 宋体; font-size: 14pt; font-weight: bold; color: rgb(51, 51, 51);">在</span><span style="text-indent: 0mm; min-height: 6pt; font-family: Calibri; font-size: 14pt; font-weight: bold; color: rgb(51, 51, 51);">mysql</span><span style="text-indent: 0mm; min-height: 6pt; font-family: 宋体; font-size: 14pt; font-weight: bold; color: rgb(51, 51, 51);">的安装文件目录下执行：</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 3pt;"><span style="text-indent: 0mm; min-height: 3pt; font-family: Calibri; font-size: 14pt; font-weight: bold; color: rgb(51, 51, 51);">rpm -ivh MySQL-client-5.5.54-1.linux2.6.x86_64.rpm</span></div><div><span style="text-indent: 0mm; font-family: Calibri; font-size: 14pt; font-weight: bold; color: rgb(51, 51, 51);">rpm -ivh MySQL-server-5.5.54-1.linux2.6.x86_64.rpm</span></div></div><div><font style="font-size: 14pt;">
</font></div><div><span style="line-height: 27px;"><font style="color: rgb(255, 70, 53); font-size: 18pt;">查看Mysql安装版本</font></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;-en-codeblock:true;"><div><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);">或者可以执行 mysqladmin --version命令，类似java -version如果打出消息，即为成功。</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 14pt;">![](04_mysql_01_架构介绍_files/Image [1].png)</div><div><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);"> 通过vim 查看 mysql用户和mysql组</span></div></div><div><font style="font-family: 'Lucida Grande'; font-size: 14pt;">
</font></div><div><font style="font-family: 'Lucida Grande'; font-size: 18pt; color: rgb(255, 70, 53);"><span style="line-height: 27px;">mysql服务的启+停</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;-en-codeblock:true;"><div><font face="Lucida Grande"><span style="color: rgb(1, 1, 1); font-family: 'Lucida Grande'; font-size: 10pt; text-indent: 0mm; line-height: 1.45;">启动：</span>
</font></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 31pt;"><font face="Lucida Grande">![](04_mysql_01_架构介绍_files/Image [2].png)</font></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><font face="Lucida Grande"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; color: rgb(1, 1, 1); font-size: 10pt;">关闭：</span></font></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><font face="Lucida Grande">![](04_mysql_01_架构介绍_files/Image [3].png)</font></div></div><div><font style="font-family: 'Lucida Grande'; font-size: 14pt;">
</font></div><div><font style="font-family: 'Lucida Grande'; font-size: 18pt; color: rgb(255, 70, 53);"><span style="line-height: 27px;">首次登录</span></font>
</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;-en-codeblock:true;"><div><span style="text-indent: 0mm; font-family: 'Lucida Grande'; color: rgb(1, 1, 1); font-size: 10pt;"> </span><span style="font-family: 'Lucida Grande'; font-size: 12pt; text-indent: 0mm; line-height: 1.45;">安装完成后会提示出如下的提示：</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 3pt;"><span style="text-indent: 0mm; min-height: 3pt; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);">在mysql首次登录前要给 root 账号设置密码</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 297pt;">![](04_mysql_01_架构介绍_files/Image [4].png)</div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; color: rgb(1, 1, 1); font-size: 10pt;"> </span><span style="font-family: 'Lucida Grande'; font-size: 12pt; text-indent: 0mm; line-height: 1.45;">启动服务后，执行命令</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 0pt;"><span style="text-indent: 0mm; min-height: 0pt; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);">/usr/bin/mysqladmin -u root  password '123123'</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 16pt;">![](04_mysql_01_架构介绍_files/Image [5].png)</div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; color: rgb(1, 1, 1); font-size: 10pt;"> </span><span style="font-family: 'Lucida Grande'; font-size: 12pt; text-indent: 0mm; line-height: 1.45;">然后通过 mysql -uroot -p123123进行登录</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 148pt;">![](04_mysql_01_架构介绍_files/Image [6].png)</div></div><div>
</div><div><font style="font-family: 'Lucida Grande'; font-size: 18pt; color: rgb(255, 70, 53);"><span style="line-height: 27px;">mysql的安装位置，在Linux下查看安装目录 </span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;-en-codeblock:true;"><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><font face="Lucida Grande">
</font></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"></div><table style="table-layout: fixed; border-collapse: collapse; border-width: 1px; border-color: #000000;"><colgroup><col style="width: 98px;"></col><col style="width: 184px;"></col><col style="width: 99px;"></col><col style="width: 148px;"></col></colgroup><tbody><tr><td align="center" height="50" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="87"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 19pt;"><span style="text-indent: 0mm; min-height: 19pt; font-family: 'Lucida Grande'; font-size: 16pt; font-weight: bold;">参数</span></div></td><td align="center" height="50" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="173"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 19pt;"><span style="text-indent: 0mm; min-height: 19pt; font-family: 'Lucida Grande'; font-size: 16pt; font-weight: bold;">路径</span></div></td><td align="center" height="50" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="88"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 19pt;"><span style="text-indent: 0mm; min-height: 19pt; font-family: 'Lucida Grande'; font-size: 16pt; font-weight: bold;">解释</span></div></td><td align="center" height="50" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="137"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 19pt;"><span style="text-indent: 0mm; min-height: 19pt; font-family: 'Lucida Grande'; font-size: 16pt; font-weight: bold;">备注</span></div></td></tr><tr><td align="left" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="87"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 15pt;"><span style="text-indent: 0mm; min-height: 15pt; font-family: 微软雅黑; font-size: 16pt;">--basedir</span></div></td><td align="left" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="173"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 21pt;"><span style="text-indent: 0mm; min-height: 21pt; font-family: 微软雅黑; font-size: 16pt;">/usr/bin</span></div></td><td align="left" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="88"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 13pt;"><span style="text-indent: 0mm; min-height: 13pt; font-family: Arial; font-size: 16pt;">相关命令目录</span></div></td><td align="left" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="137"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 13pt;"><span style="text-indent: 0mm; min-height: 13pt; font-family: 'Lucida Grande'; font-size: 16pt;">mysqladmin mysqldump等命令</span></div></td></tr><tr><td align="left" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="87"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 15pt;"><span style="text-indent: 0mm; min-height: 15pt; font-family: 微软雅黑; font-size: 16pt;">--datadir</span></div></td><td align="left" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="173"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 21pt;"><span style="text-indent: 0mm; min-height: 21pt; font-family: 微软雅黑; font-size: 16pt;">/var/lib/mysql/</span></div></td><td align="left" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="88"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 13pt;"><span style="text-indent: 0mm; min-height: 13pt; font-family: Arial; font-size: 16pt;">mysql数据库文件的存放路径</span></div></td><td align="left" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="137"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 12pt;"><span style="text-indent: 0mm; min-height: 12pt; font-family: 'Lucida Grande'; font-size: 16pt;"> </span></div></td></tr><tr><td align="left" height="99" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="87"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 15pt;"><span style="text-indent: 0mm; min-height: 15pt; font-family: 微软雅黑; font-size: 16pt;">--plugin-dir</span></div></td><td align="left" height="99" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="173"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 15pt;"><span style="text-indent: 0mm; min-height: 15pt; font-family: 微软雅黑; font-size: 16pt;">/usr/lib64/mysql/plugin</span></div></td><td align="left" height="99" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="88"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 13pt;"><span style="text-indent: 0mm; min-height: 13pt; font-family: 'Lucida Grande'; font-size: 16pt;">mysql插件存放路径</span></div></td><td align="left" height="99" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="137"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 12pt;"></div></td></tr><tr><td align="left" height="110" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="87"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 15pt;"><span style="text-indent: 0mm; min-height: 15pt; font-family: 微软雅黑; font-size: 16pt;">--log-error</span></div></td><td align="left" height="110" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="173"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 15pt;"><span style="text-indent: 0mm; min-height: 15pt; font-family: 微软雅黑; font-size: 16pt;">/var/lib/mysql/jack.atguigu.err</span></div></td><td align="left" height="110" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="88"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 13pt;"><span style="text-indent: 0mm; min-height: 13pt; font-family: 'Lucida Grande'; font-size: 16pt;">mysql错误日志路径</span></div></td><td align="left" height="110" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="137"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 12pt;"></div></td></tr><tr><td align="left" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="87"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 15pt;"><span style="text-indent: 0mm; min-height: 15pt; font-family: 微软雅黑; font-size: 16pt;">--pid-file</span></div></td><td align="left" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="173"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 15pt;"><span style="text-indent: 0mm; min-height: 15pt; font-family: 微软雅黑; font-size: 16pt;">/var/lib/mysql/jack.atguigu.pid</span></div></td><td align="left" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="88"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 13pt;"><span style="text-indent: 0mm; min-height: 13pt; font-family: 'Lucida Grande'; font-size: 16pt;">进程pid文件</span></div></td><td align="left" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="137"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 12pt;"></div></td></tr><tr><td align="left" height="123" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="87"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 21pt;"><span style="text-indent: 0mm; min-height: 21pt; font-family: 微软雅黑; font-size: 16pt;">--socket</span></div></td><td align="left" height="123" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="173"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 15pt;"><span style="text-indent: 0mm; min-height: 15pt; font-family: 微软雅黑; font-size: 16pt;">/var/lib/mysql/mysql.sock</span></div></td><td align="left" height="123" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="88"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 13pt;"><span style="text-indent: 0mm; min-height: 13pt; font-family: 'Lucida Grande'; font-size: 16pt;">本地连接时用的unix套接字文件</span></div></td><td align="left" height="123" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="137"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 6pt;"><span style="text-indent: 0mm; min-height: 6pt; font-family: 'Lucida Grande'; color: rgb(1, 1, 1); font-size: 10pt;"> </span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 9pt;"><span style="text-indent: 0mm; min-height: 9pt; font-family: 'Lucida Grande'; color: rgb(1, 1, 1); font-size: 10pt;"> </span></div></td></tr><tr><td align="left" height="89" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="87"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 12pt;"></div></td><td align="left" height="89" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="173"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 18pt;"><span style="text-indent: 0mm; min-height: 18pt; font-family: 微软雅黑; font-size: 14pt;">/usr/share/mysql</span></div></td><td align="left" height="89" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="88"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 12pt;"><span style="text-indent: 0mm; min-height: 12pt; font-family: 微软雅黑; font-size: 14pt;">配置文件目录</span></div></td><td align="left" height="89" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="137"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 12pt;"><span style="text-indent: 0mm; min-height: 12pt; font-family: 微软雅黑; font-size: 14pt;">mysql脚本及配置文件</span></div></td></tr><tr><td align="left" height="89" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="87"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 12pt;"></div></td><td align="left" height="89" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="173"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 18pt;"><span style="text-indent: 0mm; min-height: 18pt; font-family: 微软雅黑; font-size: 14pt;">/etc/init.d/mysql</span></div></td><td align="left" height="89" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="88"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 12pt;"><span style="text-indent: 0mm; min-height: 12pt; font-family: 微软雅黑; font-size: 14pt;">服务启停相关脚本</span></div></td><td align="left" height="89" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="137"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 12pt;"></div></td></tr></tbody></table><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 12pt;"><font face="Lucida Grande"><span style="text-indent: 0mm; min-height: 12pt; font-family: 'Lucida Grande'; color: rgb(1, 1, 1); font-size: 10pt;"> </span><span style="text-indent: 0mm; min-height: 6pt; font-family: Arial; font-size: 14pt;">在</span><span style="text-indent: 0mm; min-height: 6pt; font-family: 'Lucida Grande'; font-size: 14pt;">linux</span><span style="text-indent: 0mm; min-height: 6pt; font-family: Arial; font-size: 14pt;">下查看安装目录</span> <span style="text-indent: 0mm; min-height: 6pt; font-family: 'Lucida Grande'; font-size: 14pt;">ps -ef|grep mysql</span></font></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><font face="Lucida Grande"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; color: rgb(1, 1, 1); font-size: 10pt;"> </span>![](04_mysql_01_架构介绍_files/Image [7].png)</font></div></div><div><font style="font-family: 'Lucida Grande'; font-size: 14pt;">
</font></div><div><font style="font-family: 'Lucida Grande'; font-size: 18pt; color: rgb(255, 70, 53);"><span style="line-height: 27px;">自启动mysql服务</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;-en-codeblock:true;"><div><font face="Lucida Grande"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; color: rgb(1, 1, 1); font-size: 10pt;"> </span></font></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 50pt;"><font face="Lucida Grande">![](04_mysql_01_架构介绍_files/Image [8].png)</font></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><font face="Lucida Grande"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; color: rgb(1, 1, 1); font-size: 10pt;"> </span></font></div><div><font face="Lucida Grande">![](04_mysql_01_架构介绍_files/Image [9].png)</font></div></div><div><font style="font-family: 'Lucida Grande'; font-size: 14pt;">
</font></div><div><font style="font-family: 'Lucida Grande'; font-size: 18pt; color: rgb(255, 70, 53);"><span style="line-height: 27px;">修改字符集问题</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;-en-codeblock:true;"><div><font face="Lucida Grande"><span style="text-indent: 0mm; min-height: 2pt; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);">尝试插入输入：</span></font></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 281pt;"><font face="Lucida Grande">![](04_mysql_01_架构介绍_files/Image [10].png)</font></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><font face="Lucida Grande"><span style="font-family: 'Lucida Grande'; font-size: 16pt; text-indent: 0mm; line-height: 1.45;">原因是字符集问题</span></font></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 8pt;"><font face="Lucida Grande"><span style="text-indent: 0mm; min-height: 8pt; font-family: 'Lucida Grande'; font-size: 16pt; color: rgb(51, 51, 51);">1 查</span><span style="text-indent: 0mm; min-height: 8pt; font-family: Arial; font-size: 16pt; color: rgb(51, 51, 51);">看字符集</span></font></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 5pt;"><font face="Lucida Grande"><span style="text-indent: 0mm; min-height: 5pt; font-family: 'Lucida Grande'; font-size: 16pt; color: rgb(51, 51, 51);">show variables like 'character%';</span></font></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 5pt;"><font face="Lucida Grande"><span style="text-indent: 0mm; min-height: 5pt; font-family: 'Lucida Grande'; font-size: 16pt; color: rgb(51, 51, 51);">show variables like '%char%';</span></font></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 7pt;"><font face="Lucida Grande"><span style="text-indent: 0mm; min-height: 7pt; font-family: Arial; font-size: 16pt; color: rgb(51, 51, 51);">看看出现的结果：</span></font></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 147pt;"><font face="Lucida Grande">![](04_mysql_01_架构介绍_files/Image [11].png)</font></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 8pt;"><font face="Lucida Grande"><span style="text-indent: 0mm; min-height: 8pt; font-family: 'Lucida Grande'; font-size: 16pt; color: rgb(51, 51, 51);">默认的是客户端和服务器都用了latin1，所</span><span style="text-indent: 0mm; min-height: 8pt; font-family: Arial; font-size: 16pt; color: rgb(51, 51, 51);">以会乱码。</span></font></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><font face="Lucida Grande"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; color: rgb(1, 1, 1); font-size: 10pt;"> </span><span style="font-family: 'Lucida Grande'; font-size: 16pt; line-height: 1.45; text-indent: 0mm;">2 修改my.cnf</span></font></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 6pt;"><font face="Lucida Grande"><span style="text-indent: 0mm; min-height: 6pt; font-family: 'Lucida Grande'; font-size: 14pt; color: rgb(51, 51, 51);">在/usr/share/mysql/ 中找到my.cnf的配置文件，</span></font></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 6pt;"><font face="Lucida Grande"><span style="text-indent: 0mm; min-height: 6pt; font-family: 'Lucida Grande'; font-size: 14pt; color: rgb(51, 51, 51);">拷贝其中的my-huge.cnf 到 /etc/  并命名为my.cnf</span></font></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 6pt;"><font face="Lucida Grande"><span style="text-indent: 0mm; min-height: 6pt; font-family: 'Lucida Grande'; font-size: 14pt; color: rgb(51, 51, 51);">然后修改my.cnf:</span></font></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 3pt;"><font face="Lucida Grande"><span style="text-indent: 0mm; min-height: 3pt; font-family: 'Lucida Grande'; font-size: 14pt; color: rgb(51, 51, 51);">[client]</span></font></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 3pt;"><font face="Lucida Grande"><span style="text-indent: 0mm; min-height: 3pt; font-family: 'Lucida Grande'; font-size: 14pt; color: rgb(51, 51, 51);">default-character-set=utf8</span></font></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 3pt;"><font face="Lucida Grande"><span style="text-indent: 0mm; min-height: 3pt; font-family: 'Lucida Grande'; font-size: 14pt; color: rgb(51, 51, 51);">[mysqld]</span></font></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 3pt;"><font face="Lucida Grande"><span style="text-indent: 0mm; min-height: 3pt; font-family: 'Lucida Grande'; font-size: 14pt; color: rgb(51, 51, 51);">character_set_server=utf8</span></font></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 3pt;"><font face="Lucida Grande"><span style="text-indent: 0mm; min-height: 3pt; font-family: 'Lucida Grande'; font-size: 14pt; color: rgb(51, 51, 51);">character_set_client=utf8</span></font></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 3pt;"><font face="Lucida Grande"><span style="text-indent: 0mm; min-height: 3pt; font-family: 'Lucida Grande'; font-size: 14pt; color: rgb(51, 51, 51);">collation-server=utf8_general_ci</span></font></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 3pt;"><font face="Lucida Grande"><span style="text-indent: 0mm; min-height: 3pt; font-family: 'Lucida Grande'; font-size: 14pt; color: rgb(51, 51, 51);">[mysql]</span></font></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 0pt;"><font face="Lucida Grande"><span style="text-indent: 0mm; min-height: 0pt; font-family: 'Lucida Grande'; font-size: 14pt; color: rgb(51, 51, 51);">default-character-set=utf8</span></font></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 270pt;"><font face="Lucida Grande">![](04_mysql_01_架构介绍_files/Image [12].png)</font></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 50pt;"><font face="Lucida Grande">![](04_mysql_01_架构介绍_files/Image [13].png)</font></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 3pt;"><font face="Lucida Grande"><span style="text-indent: 0mm; min-height: 3pt; font-family: 'Lucida Grande'; font-size: 12pt; font-weight: bold; color: rgb(51, 51, 51);"> 3、重新启动mysql</span></font></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><font face="Lucida Grande"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 16pt; color: rgb(51, 51, 51);"> </span><span style="text-indent: 0mm; min-height: 4pt; font-family: 'Lucida Grande'; font-size: 14pt;"> </span><span style="text-indent: 0mm; min-height: 4pt; font-family: 'Lucida Grande'; color: rgb(255, 0, 0); font-size: 14pt;">但是原库的设定不会发生变化，参数修改之对新建的数据库生效</span></font></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><font face="Lucida Grande"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);"> </span><span style="font-family: 'Lucida Grande'; font-size: 12pt; font-weight: bold; text-indent: 0mm; line-height: 1.45;">4、已生成的库表字符集如何变更</span></font></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 2pt;"><font face="Lucida Grande"><span style="text-indent: 0mm; min-height: 2pt; font-family: 'Lucida Grande'; font-size: 12pt; font-weight: bold; color: rgb(51, 51, 51);">修改数据库的字符集</span></font></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 0pt;"><font face="Lucida Grande"><span style="text-indent: 0mm; min-height: 0pt; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);">mysql&gt; alter database mytest character set 'utf8';</span></font></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 2pt;"><font face="Lucida Grande"><span style="text-indent: 0mm; min-height: 2pt; font-family: 'Lucida Grande'; font-size: 12pt; font-weight: bold; color: rgb(51, 51, 51);">修改数据表的字符集</span></font></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 0pt;"><font face="Lucida Grande"><span style="text-indent: 0mm; min-height: 0pt; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);">mysql&gt; alter table user convert to  character set 'utf8';</span></font></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><font face="Lucida Grande"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);"> </span><span style="color: rgb(255, 0, 0); font-family: 'Lucida Grande'; font-size: 14pt; text-indent: 0mm; line-height: 1.45;">但是原有的数据如果是用非'utf8'编码的话，数据本身不会发生改变。</span></font></div></div><div><font style="font-family: 'Lucida Grande'; font-size: 14pt;">
</font></div><div><font style="font-family: 'Lucida Grande'; font-size: 14pt;">
</font></div><div><font style="font-family: 'Lucida Grande'; font-size: 14pt;">
</font></div><div><font style="font-family: 'Lucida Grande'; font-size: 14pt;">
</font></div><div><font style="font-family: 'Lucida Grande'; font-size: 14pt;">
</font></div><div><font style="font-family: 'Lucida Grande'; font-size: 14pt;">
</font></div><div><font style="font-family: 'Lucida Grande'; font-size: 14pt;">
</font></div><div><font style="font-family: 'Lucida Grande'; font-size: 14pt;">
</font></div></span>
</div>

* * *

<a name="2479"/>

<div>
<span><div><font><font style="font-size: 18pt; color: rgb(209, 0, 255);">二进制日志log-bin</font>
</font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;-en-codeblock:true;"><div><span style="min-height: 15pt; font-family: 宋体; color: rgb(51, 51, 51); font-size: 12pt;">主从复制及备份恢复</span></div><div><span style="min-height: 15pt; font-family: 宋体; color: rgb(51, 51, 51); font-size: 12pt;">   <span style="text-indent: 0mm; min-height: 6pt; font-family: 'Lucida Grande'; font-size: 14pt; color: rgb(51, 51, 51);"> my.cnf中的log-bin配置</span></span></div><div>![](04_mysql_01_架构介绍_files/Image [14].png)</div></div><div><font style="font-size: 14pt;">
</font></div><div><font style="font-size: 18pt; color: rgb(209, 0, 255);"><span style="min-height: 17pt; font-family: 宋体;">错误日志</span><span style="min-height: 17pt; font-family: Tahoma;">log-error</span><span style="line-height: 1.45;">   </span></font></div><div><font style="font-size: 14pt;"><span style="min-height: 17pt; font-family: 宋体; color: rgb(51, 51, 51);">     默认是关闭的</span><span style="min-height: 17pt; font-family: Tahoma; color: rgb(51, 51, 51);">,</span><span style="min-height: 17pt; font-family: 宋体; color: rgb(51, 51, 51);">记录严重的警告和错误信息，每次启动和关闭的详细信息等。</span></font></div><div><font style="font-size: 14pt;">
</font></div><div><font style="font-size: 18pt; color: rgb(209, 0, 255);"><span style="min-height: 17pt; font-family: 宋体;">慢查询日志</span><span style="min-height: 17pt; font-family: Tahoma;">log（0-10秒）</span></font></div><div><span style="min-height: 17pt; font-family: Tahoma; color: rgb(51, 51, 51);"><font style="font-size: 14pt;">         <span style="min-height: 17pt; font-family: 宋体; color: rgb(51, 51, 51);">默认关闭，记录查询的</span><span style="min-height: 17pt; font-family: Tahoma; color: rgb(51, 51, 51);">sql</span><span style="min-height: 17pt; font-family: 宋体; color: rgb(51, 51, 51);">语句，如果开启会减低</span><span style="min-height: 17pt; font-family: Tahoma; color: rgb(51, 51, 51);">mysql</span><span style="min-height: 17pt; font-family: 宋体; color: rgb(51, 51, 51);">的整体性能，因为记录日志也是需要消耗系统资源的</span></font></span></div><div><span style="min-height: 17pt; font-family: Tahoma; color: rgb(51, 51, 51);"><font style="font-size: 14pt;"><span style="min-height: 17pt; font-family: 宋体; color: rgb(51, 51, 51);">
</span></font></span></div><div><font style="font-family: 宋体; font-size: 18pt; color: rgb(209, 0, 255);"><span style="line-height: 27px;">数据文件：</span></font></div><div><font color="#333333" face="宋体"><span style="font-size: 19px; line-height: 27px;">     1、两系统</span></font></div><div><font style="font-family: 宋体; color: rgb(51, 51, 51);">                <font><span style="font-size: 14pt;">Windows  </span><font style="font-size: 14pt;"><span style="min-height: 17pt; font-family: Tahoma; color: rgb(51, 51, 51);">....\MySQLServer5.5\data</span><span style="min-height: 17pt; font-family: 宋体; color: rgb(51, 51, 51);">目录下很多数据库文件</span></font></font></font></div><div><font style="font-family: 宋体; color: rgb(51, 51, 51);"><font><font><span style="min-height: 17pt; font-family: 宋体; color: rgb(51, 51, 51);"><span style="font-size: 14pt;">           Linux  </span> <font style="font-size: 14pt;"> <span style="min-height: 17pt; font-family: 宋体; color: rgb(51, 51, 51);">默认路径：</span><span style="min-height: 17pt; font-family: Tahoma; color: rgb(51, 51, 51);">/var/lib/mysql  <span style="min-height: 15pt; font-family: 宋体; color: rgb(51, 51, 51);">每个目录代表一个同名的库</span></span></font></span></font></font></font></div><div><font color="#333333" face="宋体"><span style="font-size: 19px; line-height: 27px;">     2、Myisam存放方式</span></font></div><div><font color="#333333" face="宋体"><span style="font-size: 19px; line-height: 27px;">           frm文件   存放表结构</span></font></div><div><font color="#333333" face="宋体"><span style="font-size: 19px; line-height: 27px;">           myd文件   存放表数据</span></font></div><div><font color="#333333" face="宋体"><span style="font-size: 19px; line-height: 27px;">           myi文件   存放表索引</span></font></div><div><font color="#333333" face="宋体"><span style="font-size: 19px; line-height: 27px;">     3、innodb存放方式</span></font></div><div><font color="#333333" face="宋体"><span style="font-size: 19px; line-height: 27px;">           ibdata1</span></font></div><div><font color="#333333" face="宋体"><span style="font-size: 19px; line-height: 27px;">           frm文件   存放表结构</span></font></div><div><font color="#333333" face="宋体"><span style="font-size: 19px; line-height: 27px;">           单独存放</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;-en-codeblock:true;"><div><font color="#333333" face="宋体">![](04_mysql_01_架构介绍_files/Image [15].png)</font></div><div style="margin: 0.99mm 0mm 1.99mm; text-indent: 0mm; min-height: 9pt;"><font color="#333333" face="宋体"><span style="text-indent: 0mm; min-height: 9pt; font-family: 'Lucida Grande'; color: rgb(1, 1, 1); font-size: 10pt;"> </span><span style="text-indent: 0mm; min-height: 5pt; font-family: 'Lucida Grande'; font-size: 12pt;">create table mmm (id int(20) auto_increment ,name varchar(20),primary key(id));</span><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; line-height: 1.45;"> </span></font></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 30pt;"><font color="#333333" face="宋体">![](04_mysql_01_架构介绍_files/Image [16].png)</font></div></div><div><font color="#333333" face="宋体"><span style="font-size: 19px; line-height: 27px;">
</span></font></div><div><font style="font-family: 宋体; font-size: 18pt; color: rgb(209, 0, 255);"><span style="line-height: 27px;">如何配置：</span></font></div><div><font color="#333333" face="宋体"><span style="font-size: 19px; line-height: 27px;">     Windows   my.ini文件</span></font></div><div><font color="#333333" face="宋体"><span style="font-size: 19px; line-height: 27px;">     linux     /etc/my.cnf文件</span></font></div><div><font color="#333333" face="宋体"><span style="font-size: 19px; line-height: 27px;">
</span></font></div><div><font color="#333333" face="宋体"><span style="font-size: 19px; line-height: 27px;">
</span></font></div></span>
</div>

* * *

<a name="2487"/>

<div>
<span><div><span style="color: rgb(209, 0, 255); font-size: 18pt;">MySQL的用户管理</span></div><div><span style="font-size: 14pt;">   1、创建用户</span></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="text-indent: 0mm; min-height: 0pt; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';">create user zhang3 identified by '123123';</span></div><div><span style="text-indent: 0mm; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';">表示创建名称为zhang3的用户，密码设为123123；</span></div></div><div><span style="font-size: 14pt;">   2、了解user表</span></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="text-indent: 0mm; min-height: 2pt; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande'; font-weight: bold;">查看用户</span></div><div><span style="font-size: 12pt; text-indent: 0mm; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande'; line-height: 1.45;">select host,user,password,select_priv,insert_priv,drop_priv from mysql.user;</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm;"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px;">![](04_mysql_01_架构介绍_files/Image [17].png)</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm;"><span style="text-indent: 0mm; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(1, 1, 1); font-family: 'Lucida Grande';"> </span><span style="font-size: 14pt; text-indent: 0mm; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande'; font-weight: bold; line-height: 1.45;">host ：   表示连接类型</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm; min-height: 3pt;"><span style="text-indent: 0mm; min-height: 3pt; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';">        % 表示所有远程通过 TCP方式的连接</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm; min-height: 3pt;"><span style="text-indent: 0mm; min-height: 3pt; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';">        IP 地址 如 (192.168.1.2,127.0.0.1) 通过制定ip地址进行的TCP方式的连接</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm; min-height: 3pt;"><span style="text-indent: 0mm; min-height: 3pt; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';">       机器名   通过制定i网络中的机器名进行的TCP方式的连接</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm; min-height: 3pt;"><span style="text-indent: 0mm; min-height: 3pt; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';">        ::1   IPv6的本地ip地址  等同于IPv4的 127.0.0.1</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm;"><span style="text-indent: 0mm; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';">        localhost 本地方式通过命令行方式的连接 ，比如mysql -u xxx -p 123xxx 方式的连接。</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm; min-height: 6pt;"><span style="text-indent: 0mm; min-height: 6pt; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';"> </span> <span style="text-indent: 0mm; min-height: 6pt; font-size: 14pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande'; font-weight: bold;">User:表示用户名</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm; min-height: 2pt;"><span style="text-indent: 0mm; min-height: 2pt; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';">       同一用户通过不同方式链接的权限是不一样的。</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm;"><span style="text-indent: 0mm; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(1, 1, 1); font-family: 'Lucida Grande';"> </span><span style="font-size: 14pt; text-indent: 0mm; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande'; font-weight: bold; line-height: 1.45;">password ： 密码</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm;"><span style="text-indent: 0mm; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';">       所有密码串通过 password(明文字符串) 生成的密文字符串。加密算法为MYSQLSHA1 ，不可逆 。</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm;"><span style="text-indent: 0mm; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';">        mysql 5.7 的密码保存到 authentication_string 字段中不再使用password 字段。</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm;"><span style="text-indent: 0mm; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';"> </span><span style="font-size: 12pt; text-indent: 0mm; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande'; font-weight: bold; line-height: 1.45;"> select_priv , insert_priv等</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm; min-height: 2pt;"><span style="text-indent: 0mm; min-height: 2pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(1, 1, 1); font-family: 'Lucida Grande';">      </span><span style="text-indent: 0mm; min-height: 2pt; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';">  为该用户所拥有的权限。</span></div></div><div><span style="font-size: 14pt;">    3、设置密码</span></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="text-indent: 0mm; min-height: 3pt; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';">修改当前用户的密码:</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm; min-height: 0pt;"><span style="text-indent: 0mm; min-height: 0pt; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';">set password =password('123456')</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm;"><span style="text-indent: 0mm; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';"> </span><span style="font-size: 12pt; text-indent: 0mm; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande'; line-height: 1.45;">修改某个用户的密码:</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm; min-height: 2pt;"><span style="text-indent: 0mm; min-height: 2pt; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 微软雅黑;">update mysql.user set password=password('123456') where user='li4';</span></div><div><span style="text-indent: 0mm; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(255, 0, 0); font-family: 'Lucida Grande';">flush privileges;   #所有通过user表的修改，必须用该命令才能生效。</span></div></div><div><span style="font-size: 14pt;">    4、修改用户</span></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="text-indent: 0mm;"><span style="background-color: rgb(251, 250, 248); color: rgb(1, 1, 1); font-family: 'Lucida Grande'; font-size: 12pt;"> 修改用户名：</span></span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm; min-height: 0pt;"><span style="text-indent: 0mm; min-height: 0pt; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';">update mysql.user set user='li4' where user='wang5';</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm; min-height: 3pt;"><span style="text-indent: 0mm; min-height: 3pt; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(255, 0, 0); font-family: 'Lucida Grande';">flush privileges;   #所有通过user表的修改，必须用该命令才能生效。</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm; min-height: 33pt;"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px;">![](04_mysql_01_架构介绍_files/Image [18].png)</span></div></div><div><span style="font-size: 14pt;">    5、删除用户</span></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="text-indent: 0mm; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(1, 1, 1); font-family: 'Lucida Grande';"> </span><span style="font-size: 12pt; text-indent: 0mm; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande'; font-weight: bold; line-height: 1.45;">drop user li4 ;</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm;"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px;">![](04_mysql_01_架构介绍_files/Image [19].png)</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm;"><span style="text-indent: 0mm; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';"> </span><span style="font-size: 12pt; text-indent: 0mm; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande'; line-height: 1.45;">不要通过delete from  user u where user='li4' 进行删除，系统会有残留信息保留。</span></div></div><div>
</div><div>
</div><div><span style="line-height: 27px; color: rgb(209, 0, 255); font-size: 18pt;">权限管理</span></div><div><span style="font-size: 19px; line-height: 27px;">   1、授予权限</span></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="text-indent: 0mm; min-height: 2pt; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';">授权命令：</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm;"><span style="text-indent: 0mm; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande'; font-weight: bold;">grant 权限1,权限2,…权限n on 数据库名称.表名称 to 用户名@用户地址 identified by ‘连接口令’;</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm; min-height: 2pt;"><span style="text-indent: 0mm; min-height: 2pt; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande'; font-weight: bold;">该权限如果发现没有该用户，则会直接新建一个用户。</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm; min-height: 2pt;"><span style="text-indent: 0mm; min-height: 2pt; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';">比如 </span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm; min-height: 1pt;"><span style="text-indent: 0mm; min-height: 1pt; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande'; font-weight: bold;">grant select,insert,delete,drop on atguigudb.* to li4@localhost  ;</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm;"><span style="text-indent: 0mm; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';"> #给li4用户用本地命令行方式下，授予atguigudb这个库下的所有表的插删改查的权限。</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm;"><span style="text-indent: 0mm; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';"> <a href="#2487" style="color: #69aa35; font-weight: bold; font-family: Lucida Grande; font-size: 12pt;">04_MySQL的用户与权限管理</a></span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm;"><span style="text-indent: 0mm; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';">#授予通过网络方式登录的的joe用户 ，对所有库所有表的全部权限，密码设为123.</span></div></div><div><span style="font-size: 19px; line-height: 27px;">   2、收回权限</span><span style="font-size: 19px; line-height: 27px;">  </span></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="text-indent: 0mm; min-height: 2pt; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';">查看当前用户权限</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm; min-height: 0pt;"><span style="text-indent: 0mm; min-height: 0pt; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';">show grants;</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm;"><span style="text-indent: 0mm; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande'; font-weight: bold;"> </span><span style="font-size: 12pt; text-indent: 0mm; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande'; font-weight: bold; line-height: 1.45;">收回权限命令：</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm; min-height: 3pt;"><span style="text-indent: 0mm; min-height: 3pt; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande'; font-weight: bold;">revoke  权限1,权限2,…权限n on 数据库名称.表名称  from  用户名@用户地址 ;</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm;"><span style="text-indent: 0mm; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';"> </span><span style="font-size: 12pt; text-indent: 0mm; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande'; line-height: 1.45;">REVOKE ALL PRIVILEGES ON mysql.* FROM joe@localhost;</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm; min-height: 3pt;"><span style="text-indent: 0mm; min-height: 3pt; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';">#收回全库全表的所有权限</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm;"><span style="text-indent: 0mm; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';"> </span><span style="font-size: 12pt; text-indent: 0mm; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande'; line-height: 1.45;">REVOKE select,insert,update,delete ON mysql.* FROM joe@localhost;</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm; min-height: 3pt;"><span style="text-indent: 0mm; min-height: 3pt; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';">#收回mysql库下的所有表的插删改查权限</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm;"><span style="text-indent: 0mm; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';"> </span><span style="font-size: 12pt; text-indent: 0mm; background-color: rgb(251, 250, 248); color: rgb(255, 0, 0); font-family: 'Lucida Grande'; line-height: 1.45;"> 必须用户重新登录后才能生效</span><span style="font-size: 10pt; text-indent: 0mm; background-color: rgb(251, 250, 248); color: rgb(1, 1, 1); font-family: 'Lucida Grande'; line-height: 1.45;"> </span></div></div><div><span style="font-size: 19px; line-height: 27px;">   3、查看权限</span></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="text-indent: 0mm; min-height: 2pt; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';">查看当前用户权限</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm; min-height: 0pt;"><span style="text-indent: 0mm; min-height: 0pt; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';">show grants;</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm;"><span style="text-indent: 0mm; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';"> </span><span style="font-size: 12pt; text-indent: 0mm; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande'; line-height: 1.45;">查看某用户的全局权限</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm; min-height: 0pt;"><span style="text-indent: 0mm; min-height: 0pt; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';">select  * from user ;</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm;"><span style="text-indent: 0mm; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';"> </span><span style="font-size: 12pt; text-indent: 0mm; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande'; line-height: 1.45;">查看某用户的某库的权限</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm; min-height: 0pt;"><span style="text-indent: 0mm; min-height: 0pt; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';">select * from  db;</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm;"><span style="text-indent: 0mm; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';"> </span><span style="font-size: 12pt; text-indent: 0mm; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande'; line-height: 1.45;">查看某用户的某个表的权限</span></div><div><span style="text-indent: 0mm; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';">select * from tables_priv;</span></div></div><div>
</div><div>
</div><div><span style="line-height: 27px; color: rgb(209, 0, 255); font-size: 18pt;">通过工具远程访问</span></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="text-indent: 0mm; min-height: 3pt; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';">1、先 ping 一下数据库服务器的ip 地址确认网络畅通。</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm;"><span style="text-indent: 0mm; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';"> </span><span style="font-size: 12pt; text-indent: 0mm; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande'; line-height: 1.45;">2、关闭数据库服务的防火墙</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm; min-height: 0pt;"><span style="text-indent: 0mm; min-height: 0pt; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';">    service iptables stop</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm;"><span style="text-indent: 0mm; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';"> </span><span style="font-size: 12pt; text-indent: 0mm; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande'; line-height: 1.45;">3、 确认Mysql中已经有可以通过远程登录的账户</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm; min-height: 0pt;"><span style="text-indent: 0mm; min-height: 0pt; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';">    select  * from mysql.user where user='li4' and host='%';</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm;"><span style="text-indent: 0mm; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';">    </span><span style="font-size: 12pt; text-indent: 0mm; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande'; line-height: 1.45;">如果没有用户,先执行如下命令：</span></div><div style="margin: 4.75mm 0mm; text-indent: 0mm;"><span style="text-indent: 0mm; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';">    grant all privileges on *.*  to li4@'%'  identified by '123123';</span></div><div style="margin: 0.99mm 0mm 1.99mm; text-indent: 0mm; min-height: 9pt;"><span style="text-indent: 0mm; min-height: 9pt; font-size: 12pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande';"> </span><span style="font-size: 12pt; text-indent: 0mm; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Lucida Grande'; line-height: 1.45;">4、测试连接：</span></div><div><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px;">![](04_mysql_01_架构介绍_files/Image [20].png)</span></div></div><div>
</div><div>
</div><div>
</div><div>
</div><div>
</div><div>
</div></span>
</div>

* * *

<a name="2497"/>

<div>
<span><div><font><font style="font-size: 18pt; color: rgb(158, 0, 243);">大小写问题</font>
</font></div><div><font style="font-size: 14pt;">      </font>
</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;-en-codeblock:true;"><div><span style="text-indent: 0mm; min-height: 0pt; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);"> SHOW VARIABLES LIKE '%lower_case_table_names%'</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 85pt;">![](04_mysql_01_架构介绍_files/Image [21].png)</div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);">windows系统默认大小写不敏感，但是linux系统是大小写敏感的</span></div>

*   <span style="font-family: Lucida Grande; font-size: 12pt; color: #000000; font-decoration: Normal; font-weight: bold;">默认为0，大小写敏感。</span>
*   <span style="font-family: Lucida Grande; font-size: 12pt; color: #000000; font-decoration: Normal; font-weight: bold;">设置1，大小写不敏感。创建的表，数据库都是以小写形式存放在磁盘上，对于sql语句都是转换为小写对表和DB进行查找。</span>
*   <span style="font-family: Lucida Grande; font-size: 12pt; color: #000000; font-decoration: Normal; font-weight: bold;">设置2，创建的表和DB依据语句上格式存放，凡是查找都是转换为小写进行。</span><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 6pt;"><span style="text-indent: 0mm; min-height: 6pt; font-family: 'Lucida Grande'; color: rgb(1, 1, 1); font-size: 10pt;"> </span><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt;">当想设置为大小写不敏感时，要在my.cnf这个配置文件 [mysqld] 中加入</span> <span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; font-weight: bold;">lower_case_table_names = 1</span> <span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt;">，然后重启服务器。</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);">但是要在重启数据库实例之前就需要将原来的数据库和表转换为小写，否则将找不到数据库名。</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 2pt;"><span style="text-indent: 0mm; min-height: 2pt; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);">在进行数据库参数设置之前，需要掌握这个参数带来的影响，切不可盲目设置。</span></div></div><div>
</div><div><font style="font-size: 24pt; color: rgb(255, 0, 0);">sql_mode</font></div><div>
</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;-en-codeblock:true;"><div><span style="text-indent: 0mm; min-height: 3pt; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);">MySQL的sql_mode合理设置</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);">sql_mode是个很容易被忽视的变量，默认值是空值，在这种设置下是可以允许一些非法操作的，比如允许一些非法数据的插入。在生产环境必须将这个值设置为严格模式，所以开发、测试环境的数据库也必须要设置，这样在开发测试阶段就可以发现问题。</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);"> </span>![](04_mysql_01_架构介绍_files/Image [22].png)</div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; color: rgb(1, 1, 1); font-size: 10pt;"> </span><span style="font-family: 'Lucida Grande'; font-size: 12pt; text-indent: 0mm; line-height: 1.45;">sql_mode常用值如下：</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 3pt;"><span style="text-indent: 0mm; min-height: 3pt; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);">ONLY_FULL_GROUP_BY：</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);">对于GROUP BY聚合操作，如果在SELECT中的列，没有在GROUP BY中出现，那么这个SQL是不合法的，因为列不在GROUP BY从句中</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);"> </span><span style="font-family: 'Lucida Grande'; font-size: 12pt; text-indent: 0mm; line-height: 1.45;">NO_AUTO_VALUE_ON_ZERO：</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);">该值影响自增长列的插入。默认设置下，插入0或NULL代表生成下一个自增长值。如果用户 希望插入的值为0，而该列又是自增长的，那么这个选项就有用了。</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);"> </span><span style="font-family: 'Lucida Grande'; font-size: 12pt; text-indent: 0mm; line-height: 1.45;">STRICT_TRANS_TABLES：</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);">在该模式下，如果一个值不能插入到一个事务表中，则中断当前的操作，对非事务表不做限制</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 3pt;"><span style="text-indent: 0mm; min-height: 3pt; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);">NO_ZERO_IN_DATE：</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 2pt;"><span style="text-indent: 0mm; min-height: 2pt; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);">在严格模式下，不允许日期和月份为零</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);"> </span><span style="font-family: 'Lucida Grande'; font-size: 12pt; text-indent: 0mm; line-height: 1.45;">NO_ZERO_DATE：</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 3pt;"><span style="text-indent: 0mm; min-height: 3pt; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);">设置该值，mysql数据库不允许插入零日期，插入零日期会抛出错误而不是警告。</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);"> </span><span style="font-family: 'Lucida Grande'; font-size: 12pt; text-indent: 0mm; line-height: 1.45;">ERROR_FOR_DIVISION_BY_ZERO：</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);">在INSERT或UPDATE过程中，如果数据被零除，则产生错误而非警告。如 果未给出该模式，那么数据被零除时MySQL返回NULL</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);"> </span><span style="font-family: 'Lucida Grande'; font-size: 12pt; text-indent: 0mm; line-height: 1.45;">NO_AUTO_CREATE_USER：</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 3pt;"><span style="text-indent: 0mm; min-height: 3pt; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);">禁止GRANT创建密码为空的用户</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);"> </span><span style="font-family: 'Lucida Grande'; font-size: 12pt; text-indent: 0mm; line-height: 1.45;">NO_ENGINE_SUBSTITUTION：</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);">如果需要的存储引擎被禁用或未编译，那么抛出错误。不设置此值时，用默认的存储引擎替代，并抛出一个异常</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);"> </span><span style="font-family: 'Lucida Grande'; font-size: 12pt; text-indent: 0mm; line-height: 1.45;">PIPES_AS_CONCAT：</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);">将&quot;||&quot;视为字符串的连接操作符而非或运算符，这和Oracle数据库是一样的，也和字符串的拼接函数Concat相类似</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);"> </span><span style="font-family: 'Lucida Grande'; font-size: 12pt; text-indent: 0mm; line-height: 1.45;">ANSI_QUOTES：</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 3pt;"><span style="text-indent: 0mm; min-height: 3pt; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);">启用ANSI_QUOTES后，不能用双引号来引用字符串，因为它被解释为识别符</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 3pt;"><span style="text-indent: 0mm; min-height: 3pt; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);"> ORACLE：</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);">  设置等同：PIPES_AS_CONCAT, ANSI_QUOTES, IGNORE_SPACE, NO_KEY_OPTIONS, NO_TABLE_OPTIONS, NO_FIELD_OPTIONS, NO_AUTO_CREATE_USER.</span></div><div><span style="text-indent: 0mm; font-family: 'Lucida Grande'; color: rgb(1, 1, 1); font-size: 10pt;"> </span></div></div><div><font style="font-size: 14pt;">
</font>
</div><div><font style="font-size: 14pt;">
</font></div><div>
</div></span>
</div>

* * *

<a name="2503"/>

<div>
<span><div><span><font><font style="font-size: 18pt; color: rgb(255, 122, 116);">总体概览</font></font></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;-en-codeblock:true;"><div><span style="text-indent: 0mm; font-family: 'Lucida Grande'; color: rgb(1, 1, 1); font-size: 10pt;"> </span> <span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);">和其它数据库相比，MySQL有点与众不同，它的架构可以在多种不同场景中应用并发挥良好作用。主要体现在存储引擎的架构上，</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; color: rgb(0, 0, 255); font-size: 12pt;">插件式的存储引擎架构将查询处理和其它的系统任务以及数据的存储提取相分离</span><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);">。这种架构可以根据业务的需求和实际需要选择合适的存储引擎。</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 353pt;">![](04_mysql_01_架构介绍_files/Image [23].png)</div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 6pt;"><span style="text-indent: 0mm; min-height: 6pt; font-family: 'Lucida Grande'; color: rgb(0, 0, 255); font-size: 14pt; font-weight: bold;">1.连接层</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 14pt; color: rgb(51, 51, 51);"> 最上层是一些客户端和连接服务，包含本地sock通信和大多数基于客户端/服务端工具实现的类似于tcp/ip的通信。主要完成一些类似于连接处理、授权认证、及相关的安全方案。在该层上引入了线程池的概念，为通过认证安全接入的客户端提供线程。同样在该层上可以实现基于SSL的安全链接。服务器也会为安全接入的每个客户端验证它所具有的操作权限。</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; color: rgb(1, 1, 1); font-size: 10pt;"> </span><span style="color: rgb(0, 0, 255); font-family: 'Lucida Grande'; font-size: 14pt; font-weight: bold; text-indent: 0mm; line-height: 1.45;">2.服务层</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; color: rgb(1, 1, 1); font-size: 10pt;">   </span> <font style="font-size: 14pt;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; color: rgb(1, 1, 1);"> </span><span style="text-indent: 0mm; min-height: 6pt; font-family: 'Lucida Grande'; font-weight: bold;">2.1</span></font><span style="text-indent: 0mm; min-height: 6pt; font-family: 'Lucida Grande'; font-size: 10pt; font-weight: bold;"> </span> <span style="text-indent: 0mm; min-height: 6pt; font-family: 'Lucida Grande'; font-size: 14pt; font-weight: bold;">Management Serveices &amp; Utilities</span><span style="text-indent: 0mm; min-height: 6pt; font-family: 'Lucida Grande'; font-size: 14pt;">： 系统管理和控制工具 </span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 6pt;"><span style="text-indent: 0mm; min-height: 6pt; font-family: 'Lucida Grande'; font-size: 14pt; font-weight: bold; color: rgb(51, 51, 51);">    2.2  SQL Interface</span><span style="text-indent: 0mm; min-height: 6pt; font-family: 'Lucida Grande'; font-size: 14pt; color: rgb(51, 51, 51);">: SQL接口</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 14pt; color: rgb(51, 51, 51);">      接受用户的SQL命令，并且返回用户需要查询的结果。比如select from就是调用SQL Interface</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 6pt;"><span style="text-indent: 0mm; min-height: 6pt; font-family: 'Lucida Grande'; font-size: 14pt; font-weight: bold; color: rgb(51, 51, 51);">    2.3 Parser</span><span style="text-indent: 0mm; min-height: 6pt; font-family: 'Lucida Grande'; font-size: 14pt; color: rgb(51, 51, 51);">: 解析器</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 6pt;"><span style="text-indent: 0mm; min-height: 6pt; font-family: 'Lucida Grande'; font-size: 14pt; color: rgb(51, 51, 51);">       SQL命令传递到解析器的时候会被解析器验证和解析。</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 6pt;"><span style="text-indent: 0mm; min-height: 6pt; font-family: 'Lucida Grande'; font-size: 14pt; font-weight: bold; color: rgb(51, 51, 51);">    2.4 Optimizer</span><span style="text-indent: 0mm; min-height: 6pt; font-family: 'Lucida Grande'; font-size: 14pt; color: rgb(51, 51, 51);">: 查询优化器。</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 6pt;"><span style="text-indent: 0mm; min-height: 6pt; font-family: 'Lucida Grande'; font-size: 14pt; color: rgb(51, 51, 51);">     SQL语句在查询之前会使用查询优化器对查询进行优化。</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 14pt; color: rgb(51, 51, 51);">     用一个例子就可以理解： select uid,name from user where  gender= 1;</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 4pt;"><span style="text-indent: 0mm; min-height: 4pt; font-family: 'Lucida Grande'; font-size: 14pt; color: rgb(51, 51, 51);">     优化器来决定先投影还是先过滤。</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 6pt;"><span style="text-indent: 0mm; min-height: 6pt; font-family: 'Lucida Grande'; font-size: 14pt; font-weight: bold; color: rgb(51, 51, 51);">    2.5 Cache和Buffer： 查询缓存。</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 14pt; color: rgb(51, 51, 51);">      如果查询缓存有命中的查询结果，查询语句就可以直接去查询缓存中取数据。</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 14pt; color: rgb(51, 51, 51);">      这个缓存机制是由一系列小缓存组成的。比如表缓存，记录缓存，key缓存，权限缓存等</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; color: rgb(1, 1, 1); font-size: 10pt;"> </span><span style="color: rgb(0, 0, 255); font-family: 'Lucida Grande'; font-size: 14pt; font-weight: bold; line-height: 1.45; text-indent: 0mm;">3.引擎层</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 14pt; color: rgb(51, 51, 51);">  存储引擎层，存储引擎真正的负责了MySQL中数据的存储和提取，服务器通过API与存储引擎进行通信。不同的存储引擎具有的功能不同，这样我们可以根据自己的实际需要进行选取。后面介绍MyISAM和InnoDB</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; color: rgb(1, 1, 1); font-size: 10pt;"> </span><span style="color: rgb(0, 0, 255); font-family: 'Lucida Grande'; font-size: 14pt; font-weight: bold; text-indent: 0mm; line-height: 1.45;">4.存储层</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 14pt; color: rgb(51, 51, 51);">  数据存储层，主要是将数据存储在运行于裸设备的文件系统之上，并完成与存储引擎的交互。</span></div></div><div>
</div><div><span style="line-height: 27px;"><font style="font-size: 18pt; color: rgb(255, 122, 116);">查询说明</font></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;-en-codeblock:true;"><div><span style="text-indent: 0mm; min-height: 7pt; font-family: 'Lucida Grande'; font-size: 16pt; color: rgb(51, 51, 51);">查询流程图：</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 600pt;">![](04_mysql_01_架构介绍_files/Image [24].png)</div><div style="margin: 0.99mm 0mm 1.99mm; text-indent: 0mm; min-height: 9pt;"><span style="text-indent: 0mm; min-height: 9pt; font-family: 'Lucida Grande'; font-size: 16pt; color: rgb(51, 51, 51);"> </span><span style="font-family: 'Lucida Grande'; font-size: 16pt; text-indent: 0mm; line-height: 1.45;">首先，mysql的查询流程大致是：</span></div>

*   <span style="font-family: Lucida Grande; font-size: 16pt; color: #000000; font-decoration: Normal;">mysql客户端通过协议与mysql服务器建连接，发送查询语句，先检查查询缓存，如果命中，直接返回结果，否则进行语句解析,也就是说，在解析查询之前，服务器会先访问查询缓存(query cache)——它存储SELECT语句以及相应的查询结果集。如果某个查询结果已经位于缓存中，服务器就不会再对查询进行解析、优化、以及执行。它仅仅将缓存中的结果返回给用户即可，这将大大提高系统的性能。</span><div>
</div>

*   <span style="font-family: Lucida Grande; font-size: 16pt; color: #000000; font-decoration: Normal;">语法解析器和预处理：首先mysql通过关键字将SQL语句进行解析，并生成一颗对应的“解析树”。mysql解析器将使用mysql语法规则验证和解析查询；预处理器则根据一些mysql规则进一步检查解析数是否合法。</span><div>
</div>

*   <span style="font-family: Lucida Grande; font-size: 16pt; color: #000000; font-decoration: Normal;">查询优化器当解析树被认为是合法的了，并且由优化器将其转化成执行计划。一条查询可以有很多种执行方式，最后都返回相同的结果。优化器的作用就是找到这其中最好的执行计划。</span><div>
</div>

*   <span style="font-family: Lucida Grande; font-size: 16pt; color: #000000; font-decoration: Normal;">然后，mysql默认使用的BTREE索引，并且一个大致方向是:无论怎么折腾sql，至少在目前来说，mysql最多只用到表中的一个索引。</span></div><div>
</div><div><span style="line-height: 27px;"><font style="font-size: 18pt; color: rgb(255, 122, 116);">SQL执行顺序</font></span></div><div>
</div><div><span style="font-size: 19px; line-height: 27px;">1、手写</span></div><div>![](04_mysql_01_架构介绍_files/Image [25].png)</div><div><span style="font-size: 19px; line-height: 27px;">2、机读</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;-en-codeblock:true;"><div><span style="text-indent: 0mm; font-family: 'Lucida Grande'; color: rgb(1, 1, 1); font-size: 10pt;">         </span> <span style="text-indent: 0mm; font-family: 宋体; font-size: 14pt; color: rgb(51, 51, 51);">随着</span><span style="text-indent: 0mm; font-family: Tahoma; font-size: 14pt; color: rgb(51, 51, 51);">Mysql</span><span style="text-indent: 0mm; font-family: 宋体; font-size: 14pt; color: rgb(51, 51, 51);">版本的更新换代，其优化器也在不断的升级，优化器会分析不同执行顺序产生的</span><span style="text-indent: 0mm; font-family: 宋体; color: rgb(255, 0, 0); font-size: 14pt;">性能消耗不同而动态调整执行顺序</span><span style="text-indent: 0mm; font-family: 宋体; font-size: 14pt; color: rgb(51, 51, 51);">。</span></div><div><span style="color: rgb(255, 0, 0); font-family: 宋体; font-size: 14pt; text-indent: 0mm; line-height: 1.45;">   下面是经常出现的查询顺序：</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 266pt;">![](04_mysql_01_架构介绍_files/Image [26].png)<span style="color: rgb(255, 0, 0); font-family: 宋体; font-size: 14pt; line-height: 1.45; text-indent: 0mm;">  </span></div></div><div>
</div><div>
</div><div>
</div><div>
</div><div>
</div></span>
</div>

* * *

<a name="2513"/>

<div>
<span><div><font><font style="font-size: 18pt; color: rgb(150, 238, 125);">查看命令</font>
</font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;-en-codeblock:true;"><div><span style="text-indent: 0mm; font-family: 'Lucida Grande'; color: rgb(1, 1, 1); font-size: 10pt;"> </span><span style="text-indent: 0mm; min-height: 6pt; font-family: 'Lucida Grande'; font-size: 14pt;">1</span> <span style="text-indent: 0mm; min-height: 6pt; font-family: Arial; font-size: 14pt;">如何用命令查看</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 6pt;"><span style="text-indent: 0mm; min-height: 6pt; font-family: 'Lucida Grande'; font-size: 14pt; color: rgb(51, 51, 51);">  #</span><span style="text-indent: 0mm; min-height: 6pt; font-family: Arial; font-size: 14pt; color: rgb(51, 51, 51);">看你的</span><span style="text-indent: 0mm; min-height: 6pt; font-family: 'Lucida Grande'; font-size: 14pt; color: rgb(51, 51, 51);">mysql</span><span style="text-indent: 0mm; min-height: 6pt; font-family: Arial; font-size: 14pt; color: rgb(51, 51, 51);">现在已提供什么存储引擎</span><span style="text-indent: 0mm; min-height: 6pt; font-family: 'Lucida Grande'; font-size: 14pt; color: rgb(51, 51, 51);">:</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 6pt;"><span style="text-indent: 0mm; min-height: 3pt; font-family: 'Lucida Grande'; font-size: 14pt;">  mysql&gt; show engines;</span><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 14pt;">  </span>![](04_mysql_01_架构介绍_files/Image [27].png)</div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 6pt;"><span style="text-indent: 0mm; min-height: 6pt; font-family: 'Lucida Grande'; font-size: 14pt; color: rgb(51, 51, 51);">  #</span><span style="text-indent: 0mm; min-height: 6pt; font-family: Arial; font-size: 14pt; color: rgb(51, 51, 51);">看你的</span><span style="text-indent: 0mm; min-height: 6pt; font-family: 'Lucida Grande'; font-size: 14pt; color: rgb(51, 51, 51);">mysql</span><span style="text-indent: 0mm; min-height: 6pt; font-family: Arial; font-size: 14pt; color: rgb(51, 51, 51);">当前默认的存储引擎</span><span style="text-indent: 0mm; min-height: 6pt; font-family: 'Lucida Grande'; font-size: 14pt; color: rgb(51, 51, 51);">:</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 3pt;"><span style="text-indent: 0mm; min-height: 3pt; font-family: 'Lucida Grande'; font-size: 14pt; color: rgb(51, 51, 51);">  mysql&gt; show variables like '%storage_engine%';</span></div><div><span style="text-indent: 0mm; min-height: 98pt; font-family: 'Lucida Grande'; color: rgb(1, 1, 1); font-size: 10pt;"> </span>![](04_mysql_01_架构介绍_files/Image [28].png)</div></div><div><font style="font-size: 14pt;">
</font></div><div><span style="line-height: 27px;"><font style="font-size: 18pt; color: rgb(255, 175, 0);">各个引擎简介</font></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;-en-codeblock:true;"><div><span style="text-indent: 0mm; min-height: 3pt; font-family: 'Lucida Grande'; font-size: 12pt; font-weight: bold; color: rgb(51, 51, 51);">1、InnoDB存储引擎</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);">InnoDB是MySQL的默认事务型引擎，它被设计用来处理大量的短期(short-lived)事务。除非有非常特别的原因需要使用其他的存储引擎，否则应该优先考虑InnoDB引擎。</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);"> </span><span style="font-family: 'Lucida Grande'; font-size: 12pt; font-weight: bold; text-indent: 0mm; line-height: 1.45;">2、MyISAM存储引擎</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);">MyISAM提供了大量的特性，包括全文索引、压缩、空间函数(GIS)等，但MyISAM不支持事务和行级锁，有一个毫无疑问的缺陷就是崩溃后无法安全恢复。</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);"> </span><span style="font-family: 'Lucida Grande'; font-size: 12pt; font-weight: bold; text-indent: 0mm; line-height: 1.45;">3、Archive引擎</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 3pt;"><span style="text-indent: 0mm; min-height: 3pt; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);">Archive存储引擎只支持INSERT和SELECT操作，在MySQL5.1之前不支持索引。</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 3pt;"><span style="text-indent: 0mm; min-height: 3pt; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);">Archive表适合日志和数据采集类应用。</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);">根据英文的测试结论来看，Archive表比MyISAM表要小大约75%，比支持事务处理的InnoDB表小大约83%。</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);"> </span><span style="font-family: 'Lucida Grande'; font-size: 12pt; font-weight: bold; text-indent: 0mm; line-height: 1.45;">4、Blackhole引擎</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);">Blackhole引擎没有实现任何存储机制，它会丢弃所有插入的数据，不做任何保存。但服务器会记录Blackhole表的日志，所以可以用于复制数据到备库，或者简单地记录到日志。但这种应用方式会碰到很多问题，因此并不推荐。</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);"> </span><span style="font-family: 'Lucida Grande'; font-size: 12pt; font-weight: bold; text-indent: 0mm; line-height: 1.45;">5、CSV引擎</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 3pt;"><span style="text-indent: 0mm; min-height: 3pt; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);">CSV引擎可以将普通的CSV文件作为MySQL的表来处理，但不支持索引。</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 3pt;"><span style="text-indent: 0mm; min-height: 3pt; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);">CSV引擎可以作为一种数据交换的机制，非常有用。</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm; min-height: 3pt;"><span style="text-indent: 0mm; min-height: 3pt; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);">CSV存储的数据直接可以在操作系统里，用文本编辑器，或者excel读取。</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);"> </span><span style="font-family: 'Lucida Grande'; font-size: 12pt; font-weight: bold; text-indent: 0mm; line-height: 1.45;">6、Memory引擎</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);">如果需要快速地访问数据，并且这些数据不会被修改，重启以后丢失也没有关系，那么使用Memory表是非常有用。Memory表至少比MyISAM表要快一个数量级。</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);"> </span><span style="font-family: 'Lucida Grande'; font-size: 12pt; font-weight: bold; text-indent: 0mm; line-height: 1.45;">7、Federated引擎</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 4.75mm; margin-bottom: 4.75mm;"><span style="text-indent: 0mm; font-family: 'Lucida Grande'; font-size: 12pt; color: rgb(51, 51, 51);">Federated引擎是访问其他MySQL服务器的一个代理，尽管该引擎看起来提供了一种很好的跨服务器的灵活性，但也经常带来问题，因此默认是禁用的。</span></div></div><div><font style="font-size: 14pt;">
</font></div><div><span style="line-height: 27px;"><font style="color: rgb(26, 173, 224); font-size: 18pt;">MyISAM和InnoDB</font></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;-en-codeblock:true;"><table style="table-layout: fixed; border-collapse: collapse; border-width: 1px; border-color: #000000;"><colgroup><col style="width: 123px;"></col><col style="width: 165px;"></col><col style="width: 160px;"></col></colgroup><tbody><tr><td align="center" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="112"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 19pt;"><span style="text-indent: 0mm; min-height: 19pt; font-family: 'Lucida Grande'; font-size: 16pt; font-weight: bold;">对比项</span></div></td><td align="center" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="154"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 19pt;"><span style="text-indent: 0mm; min-height: 19pt; font-family: 'Lucida Grande'; font-size: 16pt; font-weight: bold;">MyISAM</span></div></td><td align="center" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="149"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 19pt;"><span style="text-indent: 0mm; min-height: 19pt; font-family: 'Lucida Grande'; font-size: 16pt; font-weight: bold;">InnoDB</span></div></td></tr><tr><td align="left" height="49" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="112"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 19pt;"><span style="text-indent: 0mm; min-height: 19pt; font-family: 'Lucida Grande'; font-size: 16pt; font-weight: bold;">外键</span></div></td><td align="left" height="49" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="154"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 19pt;"><span style="text-indent: 0mm; min-height: 19pt; font-family: 'Lucida Grande'; font-size: 16pt; font-weight: bold;">不支持</span></div></td><td align="left" height="49" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="149"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 19pt;"><span style="text-indent: 0mm; min-height: 19pt; font-family: 'Lucida Grande'; font-size: 16pt; font-weight: bold;">支持</span></div></td></tr><tr><td align="left" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="112"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 19pt;"><span style="text-indent: 0mm; min-height: 19pt; font-family: 'Lucida Grande'; font-size: 16pt; font-weight: bold;">事务</span></div></td><td align="left" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="154"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 19pt;"><span style="text-indent: 0mm; min-height: 19pt; font-family: Arial; font-size: 16pt; font-weight: bold;">不支持</span></div></td><td align="left" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="149"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 19pt;"><span style="text-indent: 0mm; min-height: 19pt; font-family: Arial; font-size: 16pt; font-weight: bold;">支持</span></div></td></tr><tr><td align="left" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="112"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 19pt;"><span style="text-indent: 0mm; min-height: 19pt; font-family: 'Lucida Grande'; font-size: 16pt; font-weight: bold;">行表锁</span></div></td><td align="left" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="154"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 13pt;"><span style="text-indent: 0mm; min-height: 13pt; font-family: 'Lucida Grande'; font-size: 16pt; font-weight: bold;">表锁，即使操作一条记录也会锁住整个表，不适合高并发的操作</span></div></td><td align="left" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="149"><div><span style="font-family: 'Lucida Grande'; font-size: 16pt; font-weight: bold;">行锁,操作时只锁某一行，不对其它行有影响，</span></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 10pt;"><span style="text-indent: 0mm; min-height: 10pt; font-family: 'Lucida Grande'; color: rgb(255, 0, 0); font-size: 16pt; font-weight: bold;">适合高并发的操作</span></div></td></tr><tr><td align="left" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="112"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 19pt;"><span style="text-indent: 0mm; min-height: 19pt; font-family: 'Lucida Grande'; font-size: 16pt; font-weight: bold;">缓存</span></div></td><td align="left" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="154"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 13pt;"><span style="text-indent: 0mm; min-height: 13pt; font-family: 'Lucida Grande'; font-size: 16pt; font-weight: bold;">只缓存索引，不缓存真实数据</span></div></td><td align="left" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="149"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 13pt;"><span style="text-indent: 0mm; min-height: 13pt; font-family: 'Lucida Grande'; font-size: 16pt; font-weight: bold;">不仅缓存索引还要缓存真实数据，对内存要求较高，而且内存大小对性能有决定性的影响</span></div></td></tr><tr><td align="left" height="49" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="112"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 19pt;"><span style="text-indent: 0mm; min-height: 19pt; font-family: 'Lucida Grande'; font-size: 16pt; font-weight: bold;">关注点</span></div></td><td align="left" height="49" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="154"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 19pt;"><span style="text-indent: 0mm; min-height: 19pt; font-family: 'Lucida Grande'; font-size: 16pt; font-weight: bold;">读性能</span></div></td><td align="left" height="49" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="149"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 19pt;"><span style="text-indent: 0mm; min-height: 19pt; font-family: 'Lucida Grande'; font-size: 16pt; font-weight: bold;">并发写、事务</span></div></td></tr><tr><td align="left" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="112"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 19pt;"><span style="text-indent: 0mm; min-height: 19pt; font-family: 'Lucida Grande'; font-size: 16pt; font-weight: bold;">默认安装</span></div></td><td align="left" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="154"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 19pt;"><span style="text-indent: 0mm; min-height: 19pt; font-family: 'Lucida Grande'; font-size: 16pt; font-weight: bold;">Y</span></div></td><td align="left" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="149"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 19pt;"><span style="text-indent: 0mm; min-height: 19pt; font-family: 'Lucida Grande'; font-size: 16pt; font-weight: bold;">Y</span></div></td></tr><tr><td align="left" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="112"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 17pt;"><span style="text-indent: 0mm; min-height: 17pt; font-family: 'Lucida Grande'; font-size: 14pt; font-weight: bold;">默认使用</span></div></td><td align="left" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="154"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 17pt;"><span style="text-indent: 0mm; min-height: 17pt; font-family: 'Lucida Grande'; font-size: 14pt; font-weight: bold;">N</span></div></td><td align="left" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="149"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 17pt;"><span style="text-indent: 0mm; min-height: 17pt; font-family: 'Lucida Grande'; font-size: 14pt; font-weight: bold;">Y</span></div></td></tr><tr><td align="left" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="112"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 11pt;"><span style="text-indent: 0mm; min-height: 11pt; font-family: 'Lucida Grande'; font-size: 14pt; font-weight: bold;">自带系统表使用</span></div></td><td align="left" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="154"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 17pt;"><span style="text-indent: 0mm; min-height: 17pt; font-family: 'Lucida Grande'; font-size: 14pt; font-weight: bold;">Y</span></div></td><td align="left" style="border: 1px solid rgb(0, 0, 0);" valign="top" width="149"><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.99mm; margin-bottom: 1.99mm; min-height: 17pt;"><span style="text-indent: 0mm; min-height: 17pt; font-family: 'Lucida Grande'; font-size: 14pt; font-weight: bold;">N</span></div></td></tr></tbody></table><div>
</div></div><div><font style="font-size: 14pt;">
</font></div><div><span style="line-height: 27px;"><font style="font-size: 18pt; color: rgb(54, 101, 238);">阿里巴巴、淘宝使用</font></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;-en-codeblock:true;"><div><span style="text-indent: 0mm; font-family: 'Lucida Grande'; color: rgb(1, 1, 1); font-size: 10pt;"> </span> ![](04_mysql_01_架构介绍_files/Image [29].png)</div><div>
</div>

*   <span style="font-family: Lucida Grande; font-size: 16pt; color: #000000; font-decoration: Normal;"> Percona 为 MySQL 数据库服务器进行了改进，在功能和性能上较 MySQL 有着很显著的提升。该版本提升了在高负载情况下的 InnoDB 的性能、为 DBA 提供一些非常有用的性能诊断工具；另外有更多的参数和命令来控制服务器行为。</span><div><font color="#000000" face="Lucida Grande"><span style="font-size: 21px; line-height: 30px;">
</span></font></div>

*   <span style="font-family: Arial; font-size: 16pt; color: #000000; font-decoration: Normal;">该公司新建了一款存储引擎叫</span><span style="font-family: 'Lucida Grande'; font-size: 16pt;">xtradb</span><span style="font-family: Arial; font-size: 16pt;">完全可以替代</span><span style="font-family: 'Lucida Grande'; font-size: 16pt;">innodb,</span><span style="font-family: Arial; font-size: 16pt;">并且在性能和并发上做得更好,</span><div><font color="#010101" face="Arial"><span style="font-size: 21px; line-height: 30px;">
</span></font></div>

*   <span style="font-family: Arial; color: #ff0000; font-size: 16pt; font-decoration: Normal;">阿里巴巴大部分</span><span style="font-family: 'Lucida Grande'; color: rgb(255, 0, 0); font-size: 16pt;">mysql</span><span style="font-family: Arial; color: rgb(255, 0, 0); font-size: 16pt;">数据库其实使用的</span><span style="font-family: 'Lucida Grande'; color: rgb(255, 0, 0); font-size: 16pt;">percona</span><span style="font-family: Arial; color: rgb(255, 0, 0); font-size: 16pt;">的原型加以修改。</span>
*   <span style="font-family: Arial; color: #ff0000; font-size: 16pt; font-decoration: Normal;">AliSql+AliRedis</span><div><span style="text-indent: 0mm; font-family: 'Lucida Grande'; color: rgb(1, 1, 1); font-size: 10pt;"> </span></div></div><div><span style="font-size: 19px; line-height: 27px;">
</span></div></span>
</div></body></html>